jQuery(document).ready(function(e){e('button[name="st_force_data_fetch"]').on("click",function(t){t.preventDefault();var a=this;e(a).prop("disabled",!0),e.ajax({type:"post",dataType:"json",async:!0,url:stockTickerJs.ajax_url,data:{action:"stockticker_purge_cache"}}).done(function(t){function c(){e.ajax({type:"post",dataType:"json",async:!0,url:stockTickerJs.ajax_url,data:{action:"stockticker_update_quotes"}}).done(function(t){t.done?(e(".st_force_data_fetch").append("<br />"+t.message),e(a).prop("disabled",!1)):(t.message.indexOf("Operation timed out")>=0?e(".st_force_data_fetch").append("-"):e(".st_force_data_fetch").append("+"),setTimeout(function(){c()},2e3))}).fail(function(t){e(".st_force_data_fetch").append("<br />"+t.message)})}e(".st_force_data_fetch").html("Stock Ticker fetching loop has been reset. Now let we fetch data, please wait...<br />"),c()})})});